/* --- RESET E BASE --- */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; }

body, html { 
    width: 100%; height: 100vh; height: 100dvh; 
    overflow: hidden; background: #000; 
}

body.modal-open { overflow: hidden !important; position: fixed; width: 100%; }

/* --- SPLASH SCREEN (LÓGICA INVERTIDA: CARREGA VISÍVEL) --- */
.splash-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #000; z-index: 20000;
    display: flex; justify-content: center; align-items: center;
    
    /* MUDANÇA: Começa visível para cobrir o site imediatamente */
    opacity: 1; 
    visibility: visible; 
    pointer-events: all;


    transition: opacity 0.8s ease, visibility 0s linear 0.8s;
}

/* Nova classe para quando o usuário clicar em Entrar */
.splash-overlay.escondido { 
    opacity: 0; 
    visibility: hidden; 
    pointer-events: none; 
    transition: opacity 0.8s ease, visibility 0s linear 0.8s; 
}

.splash-card { width: 100%; max-width: 500px; padding: 40px; text-align: center; color: #fff; transform: translateY(0); transition: transform 0.8s ease-out; }

/* Efeito de saída do card quando esconde */
.splash-overlay.escondido .splash-card { transform: translateY(-20px); }

.splash-titulo { font-size: 32px; font-weight: 300; letter-spacing: 1px; margin-bottom: 25px; color: #fff; }
.splash-texto { font-size: 18px; line-height: 1.6; color: #ccc; margin-bottom: 50px; font-weight: 300; }
.btn-splash { background: #fff; color: #000; border: none; padding: 18px 50px; font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 2px; border-radius: 50px; cursor: pointer; transition: transform 0.2s, background 0.2s; }
.btn-splash:hover { transform: scale(1.05); background: #f0f0f0; }

/* --- UI LAYER --- */
.overlay-sombra { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 25%, rgba(0,0,0,0) 100%); pointer-events: none; z-index: 10; }
.menu-topo { position: fixed; top: 70px; left: 50%; transform: translateX(-50%); display: flex; gap: 25px; z-index: 200; transition: opacity 0.3s; padding-top: env(safe-area-inset-top); width: max-content; }
.menu-item { color: rgba(255, 255, 255, 0.9); font-size: 22px; font-weight: 500; letter-spacing: 1px; text-decoration: none; cursor: pointer; transition: color 0.3s ease; position: relative; text-shadow: 0 2px 10px rgba(0,0,0,0.8); background: none; border: none; padding: 5px; }
.menu-item:hover { color: #fff; }
.menu-item.ativo { color: #fff; font-weight: 700; }
.menu-item.ativo::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 4px; height: 4px; background: #fff; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.5); }
.btn-geral { position: fixed; top: auto; bottom: clamp(20px, 4vh, 40px); left: 50%; transform: translateX(-50%); z-index: 200; background: transparent; border: none; color: #fff; font-size: 24px; font-weight: 400; letter-spacing: 2px; text-decoration: none; padding: 10px 20px; text-shadow: 0 2px 20px rgba(0,0,0,1); transition: transform 0.3s ease; white-space: nowrap; padding-bottom: env(safe-area-inset-bottom); }
.btn-geral:hover { transform: translateX(-50%) scale(1.1); cursor: pointer; }
body.modal-open .menu-topo, body.modal-open .btn-geral { z-index: 10001 !important; pointer-events: none !important; opacity: 1; }

/* --- CONTENT LAYER (LÓGICA DE TROCA INSTANTÂNEA) --- */
.banner-container { position: relative; width: 100vw; height: 100%; perspective: 3500px; overflow: hidden; z-index: 1; }
.threed-wrapper { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); will-change: transform; }
.threed-wrapper.blur-active { filter: blur(8px); transition: filter 0.4s ease; }

/* Configuração Base das Imagens */
.threed-wrapper img.bg-img { 
    width: 100vw; height: 100vh; 
    display: block; object-fit: cover; object-position: center; 
    transform: scale(1.05);
    transition: opacity 0.6s ease-in-out; /* Suavidade na troca */
    image-rendering: auto;
    
    /* Por padrão, escondida e absoluta (não ocupa espaço físico) */
    position: absolute; 
    top: 0; left: 0;
    opacity: 0;
    z-index: 1;
    pointer-events: none;
}

/* Quando a imagem está ATIVA */
.threed-wrapper img.bg-img.ativo {
    opacity: 1;
    z-index: 2;
    position: relative; /* Volta a ocupar espaço para o layout funcionar */
    pointer-events: all;
}

@keyframes pulse-ring { 0% { transform: scale(0.8); opacity: 0.8; } 100% { transform: scale(2.2); opacity: 0; } }
.hotspot { position: absolute; width: 44px; height: 44px; background: rgba(255, 255, 255, 0.95); border-radius: 50%; border: none; cursor: pointer; padding: 0; box-shadow: 0 4px 15px rgba(0,0,0,0.2); display: flex; justify-content: center; align-items: center; z-index: 100; transform: translate(-50%, -50%) translateZ(20px); -webkit-appearance: none; appearance: none; transition: transform 0.3s ease, background 0.3s ease; }
.hotspot::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%; background: rgba(255, 255, 255, 0.6); z-index: -1; animation: pulse-ring 2s infinite; }
.hotspot:hover { transform: translate(-50%, -50%) translateZ(20px) scale(1.15); background: #fff; }
.hotspot-icon { width: 14px; height: 14px; position: relative; }
.hotspot-icon::before, .hotspot-icon::after { content: ''; position: absolute; background-color: #333; top: 50%; left: 50%; transform: translate(-50%, -50%); }
.hotspot-icon::before { width: 4px; height: 14px; } 
.hotspot-icon::after { width: 14px; height: 4px; }

/* --- MODAL --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.75); z-index: 9999; display: flex; justify-content: center; align-items: center; padding-top: 200px; padding-bottom: 120px; padding-left: 20px; padding-right: 20px; opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.3s ease, visibility 0s linear 0.3s; }
.modal-overlay.active { opacity: 1; visibility: visible; pointer-events: all; transition: opacity 0.3s ease, visibility 0s linear 0s; }
.modal-card { background: #000; width: 400px; max-width: 90%; max-height: calc(100vh - 280px); min-height: 400px; border-radius: 24px; overflow: hidden; position: relative; display: flex; flex-direction: column; transform: translateY(20px) scale(0.98); opacity: 0; transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.4s ease; box-shadow: 0 0 0 1px rgba(255, 240, 200, 0.6), 0 0 30px rgba(255, 240, 200, 0.2), 0 20px 50px rgba(0,0,0,0.8); z-index: 10002; }
.modal-overlay.active .modal-card { transform: translateY(0) scale(1); opacity: 1; }
.modal-img-container { width: 100%; height: 480px; position: relative; background: #111; flex-shrink: 0; z-index: 1; overflow: hidden; } 
.modal-img { width: 100%; height: 100%; object-fit: cover; object-position: center; display: block; }
.modal-content { width: 100%; position: relative; z-index: 2; margin-top: -160px; background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.9) 35%, #000 70%); padding: 40px; display: flex; flex-direction: column; justify-content: flex-start; text-align: left; text-shadow: 0 2px 10px rgba(0,0,0,0.8); overflow-y: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; -ms-overflow-style: none; }
.modal-content::-webkit-scrollbar { display: none; }
.modal-content h3 { font-size: 32px; color: #fff; margin-bottom: 10px; font-weight: 500; letter-spacing: 0.5px; } 
.modal-content p { font-size: 16px; color: #fff; line-height: 1.5; margin-bottom: 35px; font-weight: 400; }
.btn-close { position: absolute; top: 20px; right: 20px; width: 32px; height: 32px; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); border-radius: 50%; color: #fff; font-size: 20px; display: flex; justify-content: center; align-items: center; cursor: pointer; z-index: 20; line-height: 1; transition: background 0.3s; }
.btn-close:hover { background: rgba(255,255,255,0.2); }
.btn-comprar { display: inline-flex; align-items: center; background: transparent !important; border: none; padding: 0; color: #fff; text-decoration: none; font-size: 14px; letter-spacing: 3px; font-weight: 500; text-transform: uppercase; transition: opacity 0.3s ease, transform 0.3s cubic-bezier(0.215, 0.610, 0.355, 1.000); width: fit-content; margin-top: auto; cursor: pointer; transform: translateX(0); text-shadow: 0 2px 5px #000; }
.btn-comprar span { margin-right: 15px; font-size: 18px; }
.btn-comprar:hover { background: transparent !important; opacity: 0.7; transform: translateX(10px); }

/* --- MOBILE & MEDIA QUERIES --- */
@media (max-height: 800px) and (min-width: 769px) {
    .modal-img-container { height: 350px; }
    .modal-content { padding: 30px; margin-top: -120px; }
    .modal-content h3 { font-size: 26px; }
    .btn-comprar { padding: 0; font-size: 12px; }
}

@media (max-width: 768px) {
    .banner-container { overflow-x: auto; overflow-y: hidden; width: 100%; height: 100vh; -webkit-overflow-scrolling: touch; perspective: none; cursor: grab; }
    .banner-container::-webkit-scrollbar { display: none; }
    .threed-wrapper { width: max-content; height: 100%; transform: none !important; position: relative; }
    
    /* Mobile Imagem */
    .threed-wrapper img.bg-img { height: 100vh; width: auto; max-width: none; object-fit: cover; transform: none !important; }
    
    /* Mobile: Imagem ativa é estática, inativa é absoluta */
    .threed-wrapper img.bg-img.ativo { position: static; }
    .threed-wrapper img.bg-img:not(.ativo) { position: absolute; top: 0; left: 0; }

    .btn-geral { font-size: 24px; bottom: 30px; }
    .modal-overlay { padding-top: 150px; align-items: center; }
    .modal-card { width: 100%; max-height: 80vh; }
    .modal-img-container { height: 300px; } 
    .modal-content { padding: 25px; margin-top: -120px; background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.9) 25%, #000 60%); }
    .modal-content h3 { font-size: 24px; }
    .btn-comprar { margin-top: 15px; } 
    .splash-card { padding: 30px; }
    .splash-titulo { font-size: 26px; }
    .splash-texto { font-size: 16px; margin-bottom: 40px; }
}

@media (max-height: 500px) {
    .modal-overlay { padding-top: 60px; padding-bottom: 60px; }
    .modal-img-container { display: none; } 
    .modal-content { margin-top: 0; background: #000; } 
    .modal-card { width: 600px; max-height: 90vh; }
}